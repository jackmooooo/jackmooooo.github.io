<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Bouncing Box</title>
	<script src="jquery.min.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

	<!-- BEGIN CSS -->
	<style>
	    [class="newbox"]{
	        background-color: teal;
	        width: 4000px;
	        height: 6000px;
	        font-size: 500%;
	        color: red;
	        text-align: left;
	    }
		[class="box"] {
			display: block;
			position: absolute;
			width: 70px;
			height: 70px;
			top: 100px;
			left: 0px;
			background-color: red;
			color: orange;
			font-size: 300%;
			text-align: center;
		}
	</style>

</head>
<body class="board">
    <div class="newbox"></div>
	<div class="box">0</div>
	
	<script>
		(function(){
			'use strict';
			/* global &*/
			var box;
			var newbox;
			var dead;
			var boardWidth;
			var update;
			var handleBoxClick;
			var handeNewBoxClick;
			var one;
			var position;
			var points;
			var speed;
			var yorn;
			
			one = 0.05;
			position = 0;
			points = 0;
			speed = 2;
			dead = "no misclicks";
			
			box = $('.box');
			newbox = $('.newbox')
			boardWidth = $('.board').width();
			
			box.css('left', position);
			
			box.text(points);
			
			newbox.text(dead);
			
			setInterval(update,20);
		    
			update = function() {
			    position = position + speed;
			    if (position > boardWidth - 50) {
			        speed = speed * -1;
			        one = -1;
			    } else if (position < 0) {
			        speed = speed * -1;
			        one = 1;
			    }
			    box.css('left',position);
			};
			box.on('click', handleBoxClick);
			
			handleBoxClick = function() {
			    points = points + 1;
			    box.text(points);
			    speed = speed + one;
			};
			box.on('click',handleBoxClick);
			
			newbox.on('click',handeNewBoxClick);
			
			handeNewBoxClick = function() {
			    if (dead === "no misclicks") {
			        dead = 1;
			    } else if (dead > 7) {
			        confirm("CONGRATULATIONS YOU GOT A SCORE OF " + points);
			        yorn = prompt("YOU HAVE DIED. do you want to restart? (Y or N).");
			        if (yorn === "Y") {
			            dead = "no misclicks";
			            newbox.text(dead);
			            box.css('left',0);
			            box.text(0);
			            speed = 2;
			            points = 0;
			            function clearAllValues() {
	                        var oCR = cognos.Report.getReport("_THIS_");
	                        var aControls = oCR.prompt.getControls();
	                        for (var i = 0; i < aControls.length; i++) {
		                        aControls[i].clearValues();
	                        }
			            }
                    } else if (yorn === "N") {
                        speed = 0;
                        one = 0;
                        box.text("reload the page if you meant yes")
                    }
			    } else {
			    dead = dead + 1;
			    newbox.text(dead);
			    }
			};
			newbox.on('click',handeNewBoxClick);
			setInterval(update, 20);
		})();
	</script>
</body>
</html>